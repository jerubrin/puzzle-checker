(()=>{"use strict";let e=[],t=4;const n=document.querySelector(".container"),l=document.createElement("p");const c=new Set(["0","1","2","3","4","5","6","7","8","9"]);function d(e){setTimeout((()=>{console.log(this.value);let e=this.value.toString();this.value=e.split("").filter(((e,t)=>c.has(e)&&t<2)).join("")}),1),"Enter"===e.key?o():(l.textContent="идет ввод...",l.classList.value="",l.classList.add("is-write"))}function o(n){try{n.preventDefault()}catch(e){return}!function(){e=new Array(t);for(let n=0;n<t;n++){e[n]=new Array(t);for(let l=0;l<t;l++){const t=document.querySelector(`.element${n+1}-${l+1}`).firstChild;e[n][l]=""!=t.value?Number(t.value):0}}!function(){for(let n=0;n<t;n++)for(let l=0;l<t;l++)0==e[n][l]&&n<t-1&&(e[n][l]=e[n+1][l],e[n+1][l]=0)}()}(),a();let c=function(){let n=!0;for(let l=0;l<t*t;l++)n&&=e.flat().reduce(((e,t)=>e||t==l),!1);return n}(),d=function(){let t,n=e.flat().map(((e,t,n)=>{let l=0;for(let c=t;c<n.length;c++)e>n[c]&&0!=n[c]&&l++;return l})).reduce(((e,t)=>e+t),0);return e.forEach(((e,n)=>{e.forEach(((e,l)=>{0===e&&(t=n+1)}))})),n+=t,n%2==e.length%2}(),o=d?"решаемый!":"не решаемый!",i=d?"is-good":"is-bad";o=c?o:"эй... не надо так",i=c?i:"is-bad",l.textContent=o,l.classList.add(i)}function a(){l.innerText="",l.classList.value=""}!function e(){let c=document.createElement("div");c.classList.add("grid"),c.classList.add(`grid-${t}`);for(let e=0;e<t;e++)for(let n=0;n<t;n++){const t=document.createElement("div");t.classList.add("element"),t.classList.add(`element${e+1}-${n+1}`);const l=document.createElement("input");l.setAttribute("type","text"),l.addEventListener("keydown",d),t.append(l),c.appendChild(t)}const i=document.createElement("h1");i.textContent="Проверка пазла";const r=document.createElement("h2");r.classList.add(`h2-${t}`),r.innerHTML='Введите цифры на свои места (пустое поле в пазле можно оставить пустым или заполнить нулем)<br>После заполнения - нажмите кнопку "ПРОВЕРИТЬ"" и получите результат!<br>Не гарантируется корректная работа при неверном заполнении пазла, заполняйте пазл верно';const s=document.createElement("div"),u=document.createElement("h3");s.appendChild(u);const m=document.createElement("div");m.classList.add("size-selector"),u.textContent="Размер пазла:";for(let l=3;l<9;l++){const c=document.createElement("a");c.onclick=c=>{t=l,n.innerHTML="",a(),e()},c.textContent=`${l}x${l}`,m.appendChild(c)}s.appendChild(m);const p=document.createElement("button");p.setAttribute("type","submit"),p.onclick=o,p.textContent="Проверить",n.appendChild(i),n.appendChild(r),n.appendChild(c),n.appendChild(s),n.appendChild(p),n.appendChild(l)}()})();